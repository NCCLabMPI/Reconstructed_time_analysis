---
title: "Simulate_data_ReconTime"
author: "Micha Engeser"
date: "2023-06-16"
output: html_document
---
```{R}
sim_data_table = data.frame(matrix(ncol = 0, nrow = 1))
sim_data_table$sub_num = NaN
sim_data_table$SOA = NaN
sim_data_table$SOA_lock ='NaN'
sim_data_table$task_relevance = 'NaN'
sim_data_table$RT_aud = NaN
sim_data_table = sim_data_table[-c(1), ]

task_relevance_lvl = c('non-target', 'irrelevant')
SOA_lock_lvl = c('onset', 'offset')
SOA_lvl = c(0,0.116,0.232,0.466)
sub_num_lvl = 201:220


for (o in sub_num_lvl){
  for (i in SOA_lvl){
    for (ii in SOA_lock_lvl) {
      for (iii in task_relevance_lvl) {
        
        
if (ii == 'onset'){       
  if (i == 0){
    if (iii == 'non-target'){
      mean=0.8
    }else{
      mean = 0.7
    }
  }else if (i == 0.116){
    if (iii == 'non-target'){
      mean = 0.7
    }else{
      mean = 0.6
    }
  }else if (i == 0.232){
    if (iii == 'non-target'){
      mean = 0.6
    }
  }  
}else{
mean = 0.5
}
        
new_RT = rnorm(40,mean=mean,sd=0.1)        
        
for (tr in 1:40){
sim_data_table = sim_data_table %>% add_row(sub_num = o,
  SOA = i,
  SOA_lock = ii,
  task_relevance = iii,
  RT_aud = new_RT[tr])
}        

}}}}



```

# plotting

```{R}
# by task-relevance

SOA_SOA_lock_task_relevance_subj_data = sim_data_table %>% group_by(SOA, SOA_lock, task_relevance, sub_num) %>%
                                      summarise(RT_mean = mean(RT_aud*1000, na.rm = TRUE))

SOA_SOA_lock_task_relevance_data = SOA_SOA_lock_task_relevance_subj_data %>%  group_by(SOA, SOA_lock, task_relevance) %>%
                                      summarise(mean_RT = mean(RT_mean, na.rm = TRUE),
                                                         sd_RT = sd(RT_mean, na.rm = TRUE),
                                                         sem_RT = sd_RT / sqrt(n))


p3 = ggplot(data=SOA_SOA_lock_task_relevance_data, aes(x=SOA*1000, y=mean_RT, group=interaction(task_relevance, SOA_lock), color=task_relevance, linetype = SOA_lock)) +
  geom_line()+
  geom_errorbar(aes(ymin = (mean_RT-sem_RT), ymax = (mean_RT+sem_RT)), width = 20)+
  geom_point()+
  ylim(c(400,800))+
  ylab("Reaction time [ms]")+
  xlab('SOA [ms]')+
  scale_color_manual(values=c('red','blue'))
p3

```
